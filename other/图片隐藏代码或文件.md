# 图片隐藏代码或文件

隐写术（Steganography）是一种可以隐藏代码的技术.

## 使用 RAR 格式

在window 上使用命令:

准备好图片文件(a.jpg) 和 rar 文件(a.rar).

```bat
copy/B a.jpg+a.rar b.jpg
```

b.jpg 就是所需文件,修改后缀,就可以用压缩软件打开.

## 在图片文件最后添加信息

## 修改颜色值

一张图片一个像素的颜色值:
R:0~255
G:0~255
B:0~255
A:0~255 (如果有这个通道,如PNG)

如果图片实际不透明,但格式有透明通道, 可以在 A 通道放置信息, 当成一个 bit 对要加密的信息的二进制编码, 如 `A>160` 或 `A>0xA0` , 表示放置的数据为 1,否则为0

在 R ,G,B 通道上也能隐藏信息(A 也可以用), 即 每个像素的最低有效位(LSB).

以红色为例:
这是红色的二进制

```c
R: 1111 1111 
```

如果将其最后两位变成 `0`

```c
R: 1111 1100
```

可以看到, 对颜色的视觉外观没有太大的影响. 实际上可以根据实际情况, 绝定修改最后几位, 一般后4位都可以(纯色影响比较大).

这个修改的位数就可以隐藏其它数据.

缺点是图片不能被压缩.

附: js 可以将图片放置在 Canvas 上,然后逐个读取通道.

[参考这里](https://github.com/ZTFtrue/compress-image?tab=readme-ov-file#%E7%AE%97%E6%B3%95)

## 盲水印

<https://github.com/ZTFtrue/compress-image?tab=readme-ov-file#%E6%96%B0%E5%A2%9E-%E7%A0%B4%E5%9D%8F%E7%9B%B2%E6%B0%B4%E5%8D%B0>